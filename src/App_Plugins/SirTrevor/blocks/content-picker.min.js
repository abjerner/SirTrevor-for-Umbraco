SirTrevor.Blocks.ContentPicker=function(){function u(n){n.preventDefault();this.pickContent()}var i=angular.element("body").injector(),t=i.get("dialogService"),n,r='<div class="st-contentpicker-block" contenteditable="true"><a href="#">Pick some content...<\/a><\/div>';return SirTrevor.Block.extend({type:"content_picker",title:function(){return"Content Picker"},icon_name:"ContentPicker",droppable:!1,uploadable:!1,pastable:!1,ajaxable:!1,controllable:!0,controls:{text:u},pickContent:function(){t.contentPicker({multipicker:!1,callback:n.onContentSelected})},editorHTML:function(){return _.template(r,this)},loadData:function(t){this.getTextBlock().html("<p>I would load content here<\/p>");n=this;n.setContent(t.id)},onBlockRender:function(){typeof this.blockStorage.data.id=="undefined"&&(n=this,n.pickContent())},onContentSelected:function(i){var r={};r.id=i.id;r.name=i.name;console.debug(i);t.closeAll();n.setAndLoadData(r);n.ready()},setContent:function(){var t=n.blockStorage.data;n.$editor.html($("<a>",{href:t.Url,text:t.name,title:t.name+" ("+t.id+")"}))}})}();
/*
//# sourceMappingURL=content-picker.min.js.map
*/